import{r as n,u as j,a as N,b as v,j as e,t as o,l as y}from"./index-Bq32TEZ8.js";import{M as k}from"./index-BLpoeeon.js";import{a as L,A as E,b as P}from"./index-BVQBu9ri.js";import{a as r}from"./assets-Dbh41_OJ.js";import{I as S}from"./IconHeader-BhAI_0tO.js";import"./iconBase-Cst9Bakk.js";const I=()=>{const[c,m]=n.useState(!1),[l,u]=n.useState(""),[i,x]=n.useState(""),h=j(),p=N(),{status:g,isAuthenticated:$,user:C}=v(t=>t.auth),s=g==="loading",b=t=>{if(t.preventDefault(),!l||!i){o.error("Email and password are required");return}h(y({email:l,password:i})).unwrap().then(()=>{o.success("Login successful"),p("/")}).catch(a=>{var d;((d=a==null?void 0:a.response)==null?void 0:d.status)===429?o.error("Too many requests. Please wait a few seconds."):o.error((a==null?void 0:a.message)||"Login failed. Please check credentials.")})},w=()=>{window.location.href="http://localhost:3000/api/users/google"},f=()=>{window.location.href="http://localhost:3000/api/users/facebook"};return e.jsxs("section",{className:"w-full min-h-screen bg-image flex flex-col items-center",children:[e.jsx(S,{}),e.jsxs("div",{className:"text-white mt-auto mb-auto flex flex-col justify-around items-center",children:[e.jsxs("h1",{className:"text-4xl mb-6",children:[e.jsx("span",{className:"text-blue-700",children:"login"})," to reset"]}),e.jsxs("form",{className:"md:w-[650px] w-[95vw] rounded-t-lg md:py-6 md:px-12 py-3 px-6 flex items-center flex-col border-b-[3px] border-blue-800 bg-gradient-to-br from-[#0a0a23] to-[#0d1b3f]",onSubmit:b,children:[e.jsx("div",{className:"w-full mb-1",children:e.jsx("label",{htmlFor:"email",className:"md:text-xl text-lg",children:"email"})}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(k,{className:"inside-icon"}),e.jsx("input",{required:!0,type:"email",placeholder:"Enter your email",className:"input-login",value:l,onChange:t=>u(t.target.value),disabled:s})]}),e.jsx("div",{className:"w-full mt-5 mb-1",children:e.jsx("label",{htmlFor:"password",className:"md:text-xl text-lg",children:"password"})}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(L,{className:"inside-icon"}),e.jsx("input",{required:!0,type:c?"text":"password",placeholder:"Enter your password",className:"input-login",value:i,onChange:t=>x(t.target.value),disabled:s}),e.jsx("div",{className:"eye-icon",onClick:()=>m(t=>!t),children:c?e.jsx(E,{}):e.jsx(P,{})})]}),e.jsx("a",{href:"/forgot-password",className:`hover:text-blue-800 ml-auto mt-1 text-base sm:text-xl ${s?"pointer-events-none opacity-50":""}`,children:"Forgot Password?"}),e.jsx("div",{className:"button-wrapper mt-9 cursor-pointer shadow-sm shadow-black",children:e.jsx("button",{className:"custom-button",disabled:s,children:s?"Logging in...":"Login"})}),e.jsxs("div",{className:"flex items-center w-64 my-8",children:[e.jsx("div",{className:"flex-grow border-t border-gray-400"}),e.jsx("span",{className:"mx-4 text-white text-sm",children:"Or Sign in With"}),e.jsx("div",{className:"flex-grow border-t border-gray-400"})]}),e.jsxs("div",{className:"flex justify-around items-center md:w-64 w-52",children:[e.jsx("button",{onClick:w,type:"button",disabled:s,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${s?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:r.google_icon,alt:"google_icon",className:"w-6 h-6"})}),e.jsx("button",{onClick:f,type:"button",disabled:s,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${s?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:r.facebook_icon,alt:"facebook_icon",className:"w-6 h-6"})}),e.jsx("button",{type:"button",disabled:s,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${s?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:r.apple_icon,alt:"apple_icon",className:"w-6 h-6"})})]})]}),e.jsxs("p",{className:`mt-4 ${s?"pointer-events-none opacity-50":""}`,children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"text-blue-800 underline",children:"Create Account"})]})]})]})};export{I as default};
