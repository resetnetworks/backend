import{T as k,U as Z,u as ee,b as te,V as re,r as ne,K as A,t as T,j as t}from"./index-Bq32TEZ8.js";import{a as se}from"./index-BLpoeeon.js";import{B as ae,a as ie}from"./UserLayout-yuTYACIF.js";import{b as oe}from"./index-BB54KNlg.js";var B,G;function ce(){if(G)return B;G=1;var S="Expected a function",p=NaN,L="[object Symbol]",I=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,h=/^0o[0-7]+$/i,j=parseInt,M=typeof k=="object"&&k&&k.Object===Object&&k,v=typeof self=="object"&&self&&self.Object===Object&&self,O=M||v||Function("return this")(),C=Object.prototype,_=C.toString,i=Math.max,w=Math.min,o=function(){return O.Date.now()};function U(e,n,a){var u,m,y,f,s,l,x=0,D=!1,b=!1,q=!0;if(typeof e!="function")throw new TypeError(S);n=R(n)||0,F(a)&&(D=!!a.leading,b="maxWait"in a,y=b?i(R(a.maxWait)||0,n):y,q="trailing"in a?!!a.trailing:q);function $(r){var c=u,g=m;return u=m=void 0,x=r,f=e.apply(g,c),f}function X(r){return x=r,s=setTimeout(N,n),D?$(r):f}function J(r){var c=r-l,g=r-x,P=n-c;return b?w(P,y-g):P}function H(r){var c=r-l,g=r-x;return l===void 0||c>=n||c<0||b&&g>=y}function N(){var r=o();if(H(r))return W(r);s=setTimeout(N,J(r))}function W(r){return s=void 0,q&&u?$(r):(u=m=void 0,f)}function Q(){s!==void 0&&clearTimeout(s),x=0,u=l=m=s=void 0}function Y(){return s===void 0?f:W(o())}function z(){var r=o(),c=H(r);if(u=arguments,m=this,l=r,c){if(s===void 0)return X(l);if(b)return s=setTimeout(N,n),$(l)}return s===void 0&&(s=setTimeout(N,n)),f}return z.cancel=Q,z.flush=Y,z}function F(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function K(e){return!!e&&typeof e=="object"}function V(e){return typeof e=="symbol"||K(e)&&_.call(e)==L}function R(e){if(typeof e=="number")return e;if(V(e))return p;if(F(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=F(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(I,"");var a=E.test(e);return a||h.test(e)?j(e.slice(2),a?2:8):d.test(e)?p:+e}return B=U,B}var le=ce();const de=Z(le),ue=()=>{T.success("This feature will be available soon")},ge=({img:S,songName:p,singerName:L,seekTime:I,isSelected:d,onPlay:E,songId:h})=>{const j=ee(),v=te(re).includes(h),O=i=>{i.target.closest(".action-button")||E()},C=ne.useCallback(de(async(i,w)=>{try{const o=await j(A(i));A.fulfilled.match(o)?T.success(w?"Removed from Liked Songs":"Added to Liked Songs"):A.rejected.match(o)&&T.error(o.payload||"Failed to update like")}catch{T.error("Something went wrong")}},500),[j]),_=i=>{i.stopPropagation(),i.preventDefault(),C(h,v)};return t.jsxs("div",{className:`flex w-full justify-between p-2 cursor-pointer ${d?"border-b border-blue-500":"border-b border-gray-600"}`,onClick:O,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:S,alt:"",className:`w-10 h-10 rounded-lg object-cover ${d?"shadow-[0_0_5px_1px_#3b82f6]":""}`}),t.jsxs("div",{className:"mx-4 max-w-[160px]",children:[t.jsx("h3",{className:"text-white text-lg leading-none truncate",children:p}),t.jsx("p",{className:"text-gray-400 text-xs font-light mt-1 truncate",children:L})]})]}),d?t.jsxs("div",{className:"equalizer",children:[t.jsx("span",{className:"equalizer-bar"}),t.jsx("span",{className:"equalizer-bar"}),t.jsx("span",{className:"equalizer-bar"}),t.jsx("span",{className:"equalizer-bar"})]}):t.jsx("div",{}),t.jsxs("div",{className:"flex gap-6 ml-4 items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(se,{className:`text-base ${d?"text-blue-700":"text-gray-500"}`}),t.jsx("span",{className:"ml-2",children:I})]}),t.jsx("button",{type:"button",className:"action-button",onClick:_,children:v?t.jsx(ae,{className:"text-red-600 text-md"}):t.jsx(ie,{className:"text-white text-md hover:text-red-700"})}),t.jsx(oe,{className:"action-button text-white text-lg hover:cursor-pointer",onClick:ue})]})]})};export{ge as S};
