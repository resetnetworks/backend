import{a as y,a7 as f,r as b,t as g,j as e}from"./index-Bq32TEZ8.js";import{B as w}from"./index-rtsjbbxS.js";import{U as j}from"./UserLayout-yuTYACIF.js";import{U as v}from"./UserHeader-qhcX_yJu.js";import"./iconBase-Cst9Bakk.js";import"./IconHeader-BhAI_0tO.js";import"./assets-Dbh41_OJ.js";import"./index-B6qKfaA3.js";import"./index-BB54KNlg.js";import"./index-DsaIwXDl.js";function F(){const l=y(),d=f(),r=new URLSearchParams(d.search),o=r.get("error_code")||"DECLINED",a=r.get("message")||"Payment could not be processed",m=r.get("payment_method")||"Credit Card",c=r.get("type"),s=r.get("amount"),i=r.get("id");let t={title:"Payment Failed",description:`We couldn't process your payment of ₹${s||"2,499.00"}. Please try again.`,actionText:"Try Payment Again",actionPath:"/checkout"};switch(c){case"artist":t.title="Subscription Failed",t.description=`We couldn't activate your monthly subscription for ₹${s}.`,t.actionText="Retry Subscription",t.actionPath=`/artist/${i}?retry_payment=true`;break;case"song":t.title="Purchase Failed",t.description=`We couldn't process your song purchase for ₹${s}.`,t.actionText="Try Again",t.actionPath=`/song/${i}?retry_payment=true`;break;case"album":t.title="Purchase Failed",t.description=`We couldn't process your album purchase for ₹${s}.`,t.actionText="Try Again",t.actionPath=`/album/${i}?retry_payment=true`;break}const u={card_declined:"Card was declined",expired_card:"Card has expired",insufficient_funds:"Insufficient funds",processing_error:"Processing error",DECLINED:"Transaction declined",authentication_required:"Authentication required",approve_with_id:"Payment not approved",call_issuer:"Contact your card issuer",incorrect_number:"Incorrect card number",invalid_account:"Invalid account",invalid_amount:"Invalid amount",invalid_cvc:"Invalid CVC",invalid_expiry_year:"Invalid expiry year",invalid_number:"Invalid card number",issuer_not_available:"Card issuer unavailable"};b.useEffect(()=>{g.error(t.title,{description:a,duration:8e3})},[t,a]);const x=()=>{const n=encodeURIComponent(`Payment Failed - ${o}`),h=encodeURIComponent(`I encountered an issue while trying to make a payment:

- Error Code: ${o}
- Error Message: ${a}
- Payment Type: ${c||"Unknown"}
- Amount: ₹${s||"Unknown"}

Please assist with resolving this issue.`);window.location.href=`mailto:info@reset93.net?subject=${n}&body=${h}`},p=n=>n.length>30?`${n.substring(0,30)}...`:n;return e.jsxs(j,{children:[e.jsx(v,{}),e.jsx("section",{className:"bg-gradient-to-br from-black to-blue-950 min-h-screen w-full flex flex-col items-center text-white py-8 px-4",children:e.jsx("div",{className:"w-full max-w-md lg:max-w-lg",children:e.jsxs("div",{className:"w-full flex flex-col items-center bg-gray-900 rounded-xl shadow-lg shadow-red-900/30 p-6",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-900/20 mb-6",children:e.jsx(w,{className:"h-12 w-12 text-red-500"})}),e.jsx("h1",{className:"text-2xl md:text-3xl mb-2 text-center font-bold",children:t.title.includes("Payment")?e.jsxs(e.Fragment,{children:[t.title.split(" ")[0]," ",e.jsx("span",{className:"text-red-500",children:t.title.split(" ")[1]})]}):t.title}),e.jsx("p",{className:"text-gray-400 mb-6 text-center text-sm md:text-base",children:t.description}),e.jsxs("div",{className:"w-full bg-gray-800 rounded-lg p-4 md:p-5 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-3 pb-2 border-b border-gray-700 gap-1",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Error Code"}),e.jsx("span",{className:"font-medium text-sm md:text-base text-red-400",children:o})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-3 pb-2 border-b border-gray-700 gap-1",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Reason"}),e.jsx("span",{className:"font-medium text-sm md:text-base text-right",title:a,children:u[o.toLowerCase()]||p(a)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Payment Method"}),e.jsx("span",{className:"font-medium text-sm md:text-base",children:m})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 w-full",children:[e.jsx("button",{onClick:()=>l(t.actionPath),className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 md:py-3 px-4 rounded-lg transition-all duration-300 shadow-md hover:shadow-red-500/20",children:t.actionText}),e.jsx("button",{onClick:()=>l("/"),className:"w-full border border-gray-600 hover:bg-gray-800 text-white font-medium py-2 md:py-3 px-4 rounded-lg transition-all duration-300",children:"Back to Home"})]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500 mt-6 text-center",children:["Need help?"," ",e.jsx("button",{onClick:x,className:"text-red-400 hover:underline focus:outline-none",children:"Contact support"})]})]})})})]})}export{F as default};
