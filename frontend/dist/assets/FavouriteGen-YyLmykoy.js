import{u as f,a as b,b as x,s as g,f as w,r as n,j as e,t as i,h as j,g as v}from"./index-Bq32TEZ8.js";import{I as N}from"./index-B6qKfaA3.js";import{I as y}from"./IconHeader-BhAI_0tO.js";import{F as S}from"./index-BB54KNlg.js";import"./iconBase-Cst9Bakk.js";import"./assets-Dbh41_OJ.js";const F=[{id:"electronic",label:"#electronic",image:"https://images.unsplash.com/photo-1511376777868-611b54f68947"},{id:"techno",label:"#techno",image:"https://images.unsplash.com/photo-1549924231-f129b911e442"},{id:"idm",label:"#IDM",image:"https://images.unsplash.com/photo-1581091215367-59d3a6ccf3fc"},{id:"ambient",label:"#ambient",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb"},{id:"soundtrack",label:"#soundtrack",image:"https://images.unsplash.com/photo-1600267165910-2f47d8eecf02"}],E=()=>{const c=f(),r=b(),s=x(g),o=x(w),[a,d]=n.useState((s==null?void 0:s.preferredGenres)||[]),[m,h]=n.useState(!1);n.useEffect(()=>{var t;o?((t=s==null?void 0:s.preferredGenres)==null?void 0:t.length)>0&&r("/"):r("/login")},[o,s,r]);const u=t=>{a.includes(t)?d(a.filter(l=>l!==t)):d([...a,t])},p=async()=>{if(a.length<3){i.error("Please select at least 3 genres");return}try{h(!0),await c(j(a)).unwrap(),await c(v()).unwrap(),i.success("Genres saved successfully!"),r("/",{replace:!0})}catch(t){i.error(t||"Failed to update genres")}finally{h(!1)}};return e.jsxs("section",{className:"bg-image min-h-screen w-full flex flex-col items-center text-white",children:[e.jsx(y,{}),e.jsxs("h1",{className:"md:text-4xl text-3xl text-center mt-6 px-2",children:["Choose favourite genres",e.jsx("span",{className:"text-blue-700",children:" (at least three)"})]}),e.jsx("div",{className:"w-full flex flex-col items-center px-8",children:e.jsxs("div",{className:"flex items-center w-full max-w-3xl mx-auto mt-8 p-[2px] rounded-2xl searchbar-container shadow-inner shadow-[#7B7B7B47] bg-gray-700",children:[e.jsxs("div",{className:"flex items-center flex-grow rounded-l-2xl bg-gray-700",children:[e.jsx(S,{className:"text-white mx-3",size:20}),e.jsx("input",{type:"text",placeholder:"Search genres...",className:"w-full bg-transparent text-white placeholder-gray-400 py-2 pr-4 outline-none"})]}),e.jsx("button",{className:"bg-gradient-to-r from-[#1b233dfe] via-[#0942a4e1] via-40% to-[#0C63FF] text-white font-semibold py-2 px-6 rounded-r-2xl border-[1px] searchbar-button",children:"Search"})]})}),e.jsx("div",{className:"flex md:w-2/3 w-full justify-center gap-6 flex-wrap py-8",children:F.map(t=>{const l=a.includes(t.id);return e.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:()=>u(t.id),children:[e.jsx("div",{className:`relative w-40 h-40 rounded-full overflow-hidden border-2 transition-all duration-300 bg-center bg-cover
                ${l?"border-[#2400FF] shadow-[inset_0_0_30px_rgba(36,0,255,0.7),0_0_15px_rgba(36,0,255,0.5)]":"border-gray-700 border-2"}`,style:{backgroundImage:`url(${t.image})`},children:l&&e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#2400FF] rounded-t-full w-20 h-10 flex items-center justify-center shadow-lg z-20",children:e.jsx(N,{className:"text-white text-3xl"})})}),e.jsx("p",{className:"mt-2 text-white text-sm",children:t.label})]},t.id)})}),e.jsx("div",{className:"button-wrapper my-9 shadow-sm shadow-black",children:e.jsx("button",{onClick:p,disabled:a.length<3||m,className:"custom-button",children:m?"Saving...":"Continue"})})]})};export{E as default};
