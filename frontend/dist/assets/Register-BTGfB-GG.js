import{u as $,a as R,b as P,r,j as e,c as O,g as F,t as M}from"./index-Bq32TEZ8.js";import{M as D}from"./index-BLpoeeon.js";import{T as q,a as L,A as I,b as z}from"./index-BVQBu9ri.js";import{G as J}from"./iconBase-Cst9Bakk.js";import{a as d}from"./assets-Dbh41_OJ.js";function b(o){return J({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"},child:[]}]})(o)}const f={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},H=()=>{const o=$();R();const{status:w,isAuthenticated:T}=P(s=>s.auth),a=w==="loading",[m,g]=r.useState(!1),[x,j]=r.useState(""),[u,y]=r.useState(""),[h,N]=r.useState(""),[l,p]=r.useState({day:"",month:"",year:""}),[n,v]=r.useState({}),[i,S]=r.useState({length:!1,lowercase:!1,uppercase:!1,number:!1,symbol:!1}),k=()=>{const s={},t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;return t.test(x)||(s.email="Please enter a valid email address."),c.test(u)||(s.password="Password must be at least 8 characters and include uppercase, lowercase, number, and symbol."),h.trim()||(s.name="Name is required."),s},C=s=>{s.preventDefault();const t=k();if(Object.keys(t).length>0){v(t);return}let c;l.day&&l.month&&l.year&&(c=`${l.year}-${f[l.month]}-${l.day.padStart(2,"0")}`),o(O({email:x,password:u,name:h,dob:c})).unwrap().then(()=>{o(F())}).catch(_=>{M.error(_||"Registration failed")})},A=()=>{window.location.href="http://localhost:3000/api/users/google"},E=()=>{window.location.href="http://localhost:3000/api/users/facebook"};return e.jsxs("section",{className:"w-full min-h-screen bg-image flex flex-col items-center",children:[e.jsx("img",{src:d.reset_icon,className:"w-10 py-3 block",alt:"Reset Icon"}),e.jsx("div",{className:"gradiant-line"}),e.jsxs("div",{className:"text-white mt-auto mb-auto flex flex-col justify-around items-center",children:[e.jsxs("h1",{className:"text-4xl my-6",children:[e.jsx("span",{className:"text-blue-700",children:"sign up"}),", it's free"]}),e.jsxs("form",{className:"md:w-[650px] w-[95vw] rounded-t-lg md:py-6 md:px-12 py-3 px-6 flex items-center flex-col border-b-[3px] border-blue-800 bg-gradient-to-br from-[#0a0a23] to-[#0d1b3f]",onSubmit:C,noValidate:!0,children:[e.jsx("div",{className:"w-full mb-1",children:e.jsx("label",{htmlFor:"name",className:"md:text-xl text-lg",children:"name"})}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(q,{className:"inside-icon"}),e.jsx("input",{required:!0,type:"text",id:"name",className:"input-login",value:h,onChange:s=>N(s.target.value),placeholder:"Enter your full name",disabled:a})]}),n.name&&e.jsx("p",{className:"text-red-500 text-left w-full text-sm mt-1",children:n.name}),e.jsx("div",{className:"w-full mt-5 mb-1",children:e.jsx("label",{htmlFor:"email",className:"md:text-xl text-lg",children:"email"})}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(D,{className:"inside-icon"}),e.jsx("input",{required:!0,type:"email",id:"email",className:"input-login",value:x,onChange:s=>j(s.target.value),placeholder:"Enter your email address",disabled:a})]}),n.email&&e.jsx("p",{className:"text-red-500 text-left w-full text-sm mt-1",children:n.email}),e.jsx("div",{className:"w-full mt-5 mb-1",children:e.jsx("label",{htmlFor:"password",className:"md:text-xl text-lg",children:"password"})}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(L,{className:"inside-icon"}),e.jsx("input",{required:!0,type:m?"text":"password",id:"password",className:"input-login",value:u,onChange:s=>{const t=s.target.value;y(t),S({length:t.length>=8,lowercase:/[a-z]/.test(t),uppercase:/[A-Z]/.test(t),number:/\d/.test(t),symbol:/[\W_]/.test(t)})},placeholder:"Create a strong password",disabled:a}),e.jsx("div",{className:"eye-icon",onClick:()=>g(s=>!s),role:"button",tabIndex:0,"aria-label":m?"Hide password":"Show password",onKeyPress:s=>{(s.key==="Enter"||s.key===" ")&&g(t=>!t)},children:m?e.jsx(I,{}):e.jsx(z,{})})]}),e.jsxs("div",{className:"text-sm mt-2 w-full flex flex-wrap gap-2",children:[e.jsx("span",{className:i.length?"text-green-500":"text-red-500",children:"At least 8 characters"}),e.jsx("span",{className:i.lowercase?"text-green-500":"text-red-500",children:"• Lowercase"}),e.jsx("span",{className:i.uppercase?"text-green-500":"text-red-500",children:"• Uppercase"}),e.jsx("span",{className:i.number?"text-green-500":"text-red-500",children:"• Number"}),e.jsx("span",{className:i.symbol?"text-green-500":"text-red-500",children:"• Symbol"})]}),n.password&&e.jsx("p",{className:"text-red-500 text-left w-full text-sm mt-1",children:n.password}),e.jsx("div",{className:"w-full mb-1 mt-5",children:e.jsxs("label",{htmlFor:"dob",className:"md:text-xl text-lg flex items-end gap-2",children:["date of birth ",e.jsx("span",{className:"text-sm text-gray-400",children:"(optional)"})]})}),e.jsxs("div",{className:"w-full flex justify-between gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{id:"dob-month",className:"input-login w-full appearance-none bg-white text-black pr-8",value:l.month,onChange:s=>p(t=>({...t,month:s.target.value})),disabled:a,children:[e.jsx("option",{value:"",children:"month"}),Object.keys(f).map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center text-blue-600",children:e.jsx(b,{})})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{id:"dob-day",className:"input-login w-full appearance-none bg-white text-black pr-8",value:l.day,onChange:s=>p(t=>({...t,day:s.target.value})),disabled:a,children:[e.jsx("option",{value:"",children:"day"}),Array.from({length:31},(s,t)=>e.jsx("option",{value:String(t+1),children:t+1},t+1))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center text-blue-600",children:e.jsx(b,{})})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{id:"dob-year",className:"input-login w-full appearance-none bg-white text-black pr-8",value:l.year,onChange:s=>p(t=>({...t,year:s.target.value})),disabled:a,children:[e.jsx("option",{value:"",children:"year"}),Array.from({length:100},(s,t)=>e.jsx("option",{value:2025-t,children:2025-t},t))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center text-blue-600",children:e.jsx(b,{})})]})]}),e.jsx("div",{className:"button-wrapper mt-9 shadow-sm shadow-black",children:e.jsx("button",{className:"custom-button",disabled:a,type:"submit",children:a?"Registering...":"Create Account"})}),e.jsxs("div",{className:"flex items-center w-64 my-8",children:[e.jsx("div",{className:"flex-grow border-t border-gray-400"}),e.jsx("span",{className:"mx-4 text-white text-sm",children:"Or Sign up With"}),e.jsx("div",{className:"flex-grow border-t border-gray-400"})]}),e.jsxs("div",{className:"flex justify-around items-center md:w-64 w-52",children:[e.jsx("button",{onClick:A,type:"button",disabled:a,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:d.google_icon,alt:"google_icon",className:"w-6 h-6"})}),e.jsx("button",{onClick:E,type:"button",disabled:a,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:d.facebook_icon,alt:"facebook_icon",className:"w-6 h-6"})}),e.jsx("button",{type:"button",disabled:a,className:`w-12 h-12 rounded-lg flex justify-center items-center bg-white ${a?"opacity-50 cursor-not-allowed":""}`,children:e.jsx("img",{src:d.apple_icon,alt:"apple_icon",className:"w-6 h-6"})})]})]}),e.jsxs("p",{className:`mt-4 ${a?"pointer-events-none opacity-50":""}`,children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-blue-800 underline",children:"Login"})]})]})]})};export{H as default};
